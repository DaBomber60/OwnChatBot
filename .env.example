#############################################
# OwnChatBot Environment Example           #
#############################################
# Copy to `.env.local` for dev or `.env` for Docker.
# DO NOT commit real secrets.

# --- Core ---
APP_PORT=3000
# NEXT_PUBLIC_API_URL=http://localhost:3000

# JWT secret used to sign auth cookies (must be long & random in production).
# Leave blank: the container entrypoint will auto-generate and persist one in /app/data/jwt-secret.
# Provide a value only if you want to control or rotate it manually.
JWT_SECRET=

# Database connection (PostgreSQL)
DATABASE_URL=postgresql://ownchatbot:ownchatbot_secure_password@localhost:5432/ownchatbot?schema=public

# --- Docker Compose (optional) ---
POSTGRES_DB=ownchatbot
POSTGRES_USER=ownchatbot
POSTGRES_PASSWORD=ownchatbot_secure_password
## Optional override (compose defaults to 5432 internally)
# POSTGRES_PORT=5432
## Timezone for containers that honor TZ (e.g., backup schedule). Use IANA TZ names.
## Examples: UTC, Etc/UTC, Europe/London, America/New_York
# TZ=UTC
## Override the image name/tag used for the app service when building/pulling.
# APP_IMAGE=yourdockerhubusername/ownchatbot:latest

# --- Tuning / Optional ---
# Max duration (ms) allowed for an upstream streaming model request before abort
# STREAM_TIMEOUT_MS=90000
# Enable simple Prisma query count metrics (1 = on)
# PRISMA_METRICS=0
# API keys (e.g., DeepSeek) are stored in the application settings database now and
# are intentionally NOT loaded from environment variables for security & rotation simplicity.

# --- Nginx (if using nginx profile) ---
# NGINX_HTTP_PORT=80
# NGINX_HTTPS_PORT=443

# --- Import / CORS (optional) ---
# Comma-separated list of origins allowed to POST to /api/import/receive
# Default inside code: https://janitorai.com
# IMPORT_ALLOWED_ORIGINS=https://janitorai.com,https://yourdomain.com

# --- Debug / Diagnostics (do NOT enable in production) ---
# Log upstream non-stream responses / partials (chat API route)
# DEBUG_CHAT_CAPTURE=false
# Enable full verbose chat logging (implies DEBUG_CHAT_CAPTURE)
# DEBUG_FULL_CHAT_LOG=false

# --- Deployment Notes ---
# PORT: The runtime listen port. Most platforms inject this; with Docker we map APP_PORT -> container 3000.
# Usually you do NOT need to set PORT manually unless your host/platform demands a different value.
# Example (uncomment only if required):
# PORT=3000

# If you switch to an external Postgres host, update DATABASE_URL accordingly and you may remove POSTGRES_* entries.
# If JWT_SECRET left empty, docker-entrypoint.sh generates a stable secret stored in /app/data/jwt-secret (persisted via app_data volume in docker-compose).
